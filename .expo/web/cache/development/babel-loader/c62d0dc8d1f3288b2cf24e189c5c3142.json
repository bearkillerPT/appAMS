{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\dev\\\\appAmsree\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { createStackNavigator } from '@react-navigation/stack';\nimport ClienteApp from \"./screens/AppCliente/AppClientes\";\nimport RestauranteApp from \"./screens/AppRestaurante/AppRestaurante\";\nimport { setLogged, setUser } from \"./assets/cartState\";\nimport EstafetaApp from \"./screens/AppEstafeta/AppEstafeta\";\nimport { Provider } from 'react-redux';\nimport configStore from \"./Store\";\nimport { useDispatch } from 'react-redux';\nimport { database } from 'firebase/app';\nimport { Restart } from 'fiction-expo-restart';\n\nvar firebase = require('firebase/app');\n\nrequire('firebase/database');\n\nvar xmasPromo = require(\"./assets/xmaspromo.jpg\");\n\nvar newYearPromo = require(\"./assets/newYearPromo.jpg\");\n\nvar imgVegifruit = require(\"./assets/vegifruit.png\");\n\nvar imgGreenCity = require(\"./assets/greencity.png\");\n\nvar imgSaladasmais = require(\"./assets/saladasmais.jpg\");\n\nvar imgQuichVeg = require(\"./assets/quicheVegsGluten.jpg\");\n\nvar imgCremeEspi = require(\"./assets/cremedeespinafres.jpg\");\n\nvar imgSaladaQSerra = require(\"./assets/saladaqueijoserra.jpg\");\n\nvar imgSandesBase = require(\"./assets/sandesBase.jpg\");\n\nvar imgPratoCarne = require(\"./assets/pratoCarne.jpg\");\n\nvar imgPratoPeixe = require(\"./assets/pratoPeixe.jpg\");\n\nvar favicon = require(\"./assets/favicon.png\");\n\nexport var images = {\n  \"xmasPromo\": xmasPromo,\n  \"newYearPromo\": newYearPromo,\n  \"imgVegifruit\": imgVegifruit,\n  \"imgGreenCity\": imgGreenCity,\n  \"imgSaladasmais\": imgSaladasmais,\n  \"imgQuichVeg\": imgQuichVeg,\n  \"imgCremeEspi\": imgCremeEspi,\n  \"imgSaladaQSerra\": imgSaladaQSerra,\n  \"imgSandesBase\": imgSandesBase,\n  \"imgPratoCarne\": imgPratoCarne,\n  \"imgPratoPeixe\": imgPratoPeixe,\n  \"default\": favicon\n};\nvar users = {\n  \"cliente\": {\n    \"type\": \"cliente\",\n    \"password\": \"cliente\"\n  },\n  \"restaurante\": {\n    \"type\": \"restaurante\",\n    \"password\": \"restaurante\",\n    \"restaurante\": \"Vegifruit\"\n  },\n  \"estafeta\": {\n    \"type\": \"estafeta\",\n    \"password\": \"estafeta\",\n    \"feedback\": [{\n      \"id\": 1,\n      \"restaurante\": \"Vegifruit\",\n      \"rating\": 5\n    }, {\n      \"id\": 2,\n      \"restaurante\": \"Saladas+\",\n      \"rating\": 4\n    }, {\n      \"id\": 3,\n      \"restaurante\": \"Green City quiches & saladas, co.\",\n      \"rating\": 4\n    }],\n    \"pedidos\": [{\n      \"id\": 1,\n      \"restaurante\": \"Saladas+\",\n      \"prato\": \"Prato do dia Peixe\",\n      \"morada\": \"Universidade de Aveiro, DECA\"\n    }, {\n      \"id\": 2,\n      \"restaurante\": \"Vegifruit\",\n      \"prato\": \"Salada de queijo da serra\",\n      \"morada\": \"Universidade de Aveiro, DETI\"\n    }, {\n      \"id\": 3,\n      \"restaurante\": \"Green City quiches & saladas, co.\",\n      \"prato\": \"Quiche especial\",\n      \"morada\": \"Universidade de Aveiro, CP\"\n    }]\n  }\n};\nexport var store = configStore();\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDNVW5qZxXnfqYfnNUvpFUH9dAeQfRmHu4\",\n  authDomain: \"appams-f22a3.firebaseapp.com\",\n  projectId: \"appams-f22a3\",\n  storageBucket: \"appams-f22a3.appspot.com\",\n  databaseURL: \"https://appams-f22a3-default-rtdb.firebaseio.com/\",\n  messagingSenderId: \"184182571952\",\n  appId: \"1:184182571952:web:576eed43083fbf07fc8c75\",\n  measurementId: \"G-CHN6Z9P409\"\n};\nfirebase.initializeApp(firebaseConfig);\nexport var db = firebase.database();\nexport default function AppWraper(route) {\n  return React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, React.createElement(AppContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }));\n}\nvar AppTab = createStackNavigator();\n\nfunction AppContent() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isCliente = _useState2[0],\n      setIsCliente = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isRestaurante = _useState4[0],\n      setIsRestaurante = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isEstafeta = _useState6[0],\n      setIsEstafeta = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      toRegister = _useState8[0],\n      setToRegister = _useState8[1];\n\n  var logged = store.getState();\n  var user = logged.cartReducer.user;\n  logged = logged.cartReducer.isLogged;\n  return React.createElement(React.Fragment, null, logged && React.createElement(React.Fragment, null, isCliente && React.createElement(ClienteApp, {\n    setIsLogged: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }), isRestaurante && React.createElement(RestauranteApp, {\n    restaurante: users[user],\n    setIsLogged: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }), isEstafeta && React.createElement(EstafetaApp, {\n    estafeta: users[user],\n    setIsLogged: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  })), !logged && !toRegister && React.createElement(Login, {\n    user: user,\n    setUser: setUser,\n    setIsCliente: setIsCliente,\n    setIsRestaurante: setIsRestaurante,\n    setIsEstafeta: setIsEstafeta,\n    setToRegister: setToRegister,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }), !logged && toRegister && React.createElement(Register, {\n    setToRegister: setToRegister,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }));\n}\n\nfunction Register(_ref) {\n  var setToRegister = _ref.setToRegister;\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      user = _useState10[0],\n      setUser = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      password = _useState12[0],\n      setPassword = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      confPass = _useState14[0],\n      setConfPass = _useState14[1];\n\n  var _useState15 = useState({}),\n      _useState16 = _slicedToArray(_useState15, 2),\n      users = _useState16[0],\n      setUsers = _useState16[1];\n\n  useEffect(function () {\n    firebase.database().ref(\"Users\").once('value').then(function (res) {\n      return setUsers(res.val());\n    });\n  }, []);\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, \"Nutrilink\"), React.createElement(View, {\n    style: styles.loginContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.inputView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Username\",\n    style: styles.input,\n    onChangeText: function onChangeText(user) {\n      return setUser(user);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: styles.inputView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Password\",\n    style: styles.input,\n    onChangeText: function onChangeText(pass) {\n      return setPassword(pass);\n    },\n    secureTextEntry: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: styles.inputView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Confirm Password\",\n    style: styles.input,\n    onChangeText: function onChangeText(pass) {\n      return setConfPass(pass);\n    },\n    secureTextEntry: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: styles.containerRow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.loginButtonContainer,\n    onPress: function onPress() {\n      if (password == confPass) {\n        var tmpUsers = users[user] = {\n          type: 'cliente',\n          password: password\n        };\n        console.log(tmpUsers);\n        setToRegister(false);\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.loginButtonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 25\n    }\n  }, \"Confirmar\")))));\n}\n\nfunction Login(_ref2) {\n  var navigation = _ref2.navigation,\n      setIsLogged = _ref2.setIsLogged,\n      setIsCliente = _ref2.setIsCliente,\n      setIsRestaurante = _ref2.setIsRestaurante,\n      setIsEstafeta = _ref2.setIsEstafeta,\n      user = _ref2.user,\n      setUser = _ref2.setUser,\n      setToRegister = _ref2.setToRegister;\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      password = _useState18[0],\n      setPassword = _useState18[1];\n\n  var _useState19 = useState({}),\n      _useState20 = _slicedToArray(_useState19, 2),\n      users = _useState20[0],\n      setUsers = _useState20[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    firebase.database().ref(\"Users\").once('value').then(function (res) {\n      return setUsers(res.val());\n    });\n  }, []);\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, \"Nutrilink\"), React.createElement(View, {\n    style: styles.loginContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.inputView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Username\",\n    style: styles.input,\n    onChangeText: function onChangeText(username) {\n      return dispatch(setUser(username));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: styles.inputView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Password\",\n    style: styles.input,\n    onChangeText: function onChangeText(pass) {\n      return setPassword(pass);\n    },\n    secureTextEntry: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: styles.containerRow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.loginButtonContainer,\n    onPress: function onPress() {\n      var logged = store.getState();\n      var user = logged.cartReducer.user;\n      console.log(user);\n      firebase.database().ref(\"Users\").once('value').then(function (res) {\n        return setUsers(res.val());\n      });\n      console.log(users);\n\n      for (var _i = 0, _Object$keys = Object.keys(users); _i < _Object$keys.length; _i++) {\n        var typeUser = _Object$keys[_i];\n\n        if (user === typeUser) {\n          if (password === users[user].password) switch (users[user].type) {\n            case \"cliente\":\n              dispatch(setLogged(true));\n              setIsCliente(true);\n              break;\n\n            case \"restaurante\":\n              dispatch(setLogged(true));\n              setIsRestaurante(true);\n              setUser(users[user].restaurante);\n              break;\n\n            case \"estafeta\":\n              dispatch(setLogged(true));\n              setIsEstafeta(true);\n              break;\n\n            default:\n              break;\n          }\n        }\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.loginButtonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 25\n    }\n  }, \"Login\")), React.createElement(TouchableOpacity, {\n    style: styles.loginButtonContainer,\n    onPress: function onPress() {\n      setToRegister(true);\n      dispatch(setLogged(false));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.loginButtonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 25\n    }\n  }, \"Registar\")))));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'darkcyan',\n    alignItems: 'center',\n    flex: 1\n  },\n  containerRow: {\n    paddingTop: 20,\n    flexDirection: 'row'\n  },\n  loginContainer: {\n    backgroundColor: 'darkcyan',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1\n  },\n  title: {\n    borderTopWidth: 100,\n    borderTopColor: 'darkcyan',\n    fontSize: 40,\n    fontWeight: 'bold',\n    color: 'cornsilk'\n  },\n  inputView: {\n    borderBottomWidth: 10,\n    borderBottomColor: 'darkcyan'\n  },\n  input: {\n    backgroundColor: 'darkgray',\n    padding: 15,\n    borderRadius: 5\n  },\n  loginButtonContainer: {\n    elevation: 8,\n    backgroundColor: \"#009688\",\n    borderRadius: 28,\n    paddingVertical: 15,\n    paddingHorizontal: 25\n  },\n  loginButtonText: {\n    fontSize: 18,\n    color: \"#fff\",\n    fontWeight: \"bold\",\n    alignSelf: \"center\",\n    textTransform: \"uppercase\"\n  }\n});","map":{"version":3,"sources":["D:/dev/appAmsree/App.js"],"names":["React","useState","useEffect","createStackNavigator","ClienteApp","RestauranteApp","setLogged","setUser","EstafetaApp","Provider","configStore","useDispatch","database","Restart","firebase","require","xmasPromo","newYearPromo","imgVegifruit","imgGreenCity","imgSaladasmais","imgQuichVeg","imgCremeEspi","imgSaladaQSerra","imgSandesBase","imgPratoCarne","imgPratoPeixe","favicon","images","users","store","firebaseConfig","apiKey","authDomain","projectId","storageBucket","databaseURL","messagingSenderId","appId","measurementId","initializeApp","db","AppWraper","route","AppTab","AppContent","isCliente","setIsCliente","isRestaurante","setIsRestaurante","isEstafeta","setIsEstafeta","toRegister","setToRegister","logged","getState","user","cartReducer","isLogged","Register","password","setPassword","confPass","setConfPass","setUsers","ref","once","then","res","val","styles","container","title","loginContainer","inputView","input","pass","containerRow","loginButtonContainer","tmpUsers","type","console","log","loginButtonText","Login","navigation","setIsLogged","dispatch","username","Object","keys","typeUser","restaurante","StyleSheet","create","backgroundColor","alignItems","flex","paddingTop","flexDirection","justifyContent","borderTopWidth","borderTopColor","fontSize","fontWeight","color","borderBottomWidth","borderBottomColor","padding","borderRadius","elevation","paddingVertical","paddingHorizontal","alignSelf","textTransform"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { TextInput, StyleSheet, View, Text, TouchableOpacity } from 'react-native';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport ClienteApp from './screens/AppCliente/AppClientes';\r\nimport RestauranteApp from './screens/AppRestaurante/AppRestaurante';\r\nimport { setLogged, setUser } from './assets/cartState';\r\nimport EstafetaApp from './screens/AppEstafeta/AppEstafeta';\r\nimport { Provider } from 'react-redux';\r\nimport configStore from './Store';\r\nimport { useDispatch } from 'react-redux';\r\nimport { database } from 'firebase/app';\r\nimport { Restart } from 'fiction-expo-restart';\r\nvar firebase = require('firebase/app');\r\nrequire('firebase/database');\r\nvar xmasPromo = require('./assets/xmaspromo.jpg');\r\nvar newYearPromo = require('./assets/newYearPromo.jpg');\r\nvar imgVegifruit = require('./assets/vegifruit.png');\r\nvar imgGreenCity = require('./assets/greencity.png');\r\nvar imgSaladasmais = require('./assets/saladasmais.jpg');\r\nvar imgQuichVeg = require('./assets/quicheVegsGluten.jpg');\r\nvar imgCremeEspi = require('./assets/cremedeespinafres.jpg');\r\nvar imgSaladaQSerra = require('./assets/saladaqueijoserra.jpg');\r\nvar imgSandesBase = require('./assets/sandesBase.jpg');\r\nvar imgPratoCarne = require('./assets/pratoCarne.jpg');\r\nvar imgPratoPeixe = require('./assets/pratoPeixe.jpg');\r\nvar favicon = require('./assets/favicon.png');\r\nexport const images = {\r\n    \"xmasPromo\": xmasPromo,\r\n    \"newYearPromo\": newYearPromo,\r\n    \"imgVegifruit\": imgVegifruit,\r\n    \"imgGreenCity\": imgGreenCity,\r\n    \"imgSaladasmais\": imgSaladasmais,\r\n    \"imgQuichVeg\": imgQuichVeg,\r\n    \"imgCremeEspi\": imgCremeEspi,\r\n    \"imgSaladaQSerra\": imgSaladaQSerra,\r\n    \"imgSandesBase\": imgSandesBase,\r\n    \"imgPratoCarne\": imgPratoCarne,\r\n    \"imgPratoPeixe\": imgPratoPeixe,\r\n    \"default\": favicon\r\n}\r\n\r\nconst users = {\r\n    \"cliente\": {\r\n        \"type\": \"cliente\",\r\n        \"password\": \"cliente\",\r\n    },\r\n    \"restaurante\": {\r\n        \"type\": \"restaurante\",\r\n        \"password\": \"restaurante\",\r\n        \"restaurante\": \"Vegifruit\"\r\n    },\r\n    \"estafeta\": {\r\n        \"type\": \"estafeta\",\r\n        \"password\": \"estafeta\",\r\n        \"feedback\": [\r\n            {\r\n                \"id\": 1,\r\n                \"restaurante\": \"Vegifruit\",\r\n                \"rating\": 5\r\n            },\r\n            {\r\n                \"id\": 2,\r\n                \"restaurante\": \"Saladas+\",\r\n                \"rating\": 4\r\n            },\r\n            {\r\n                \"id\": 3,\r\n                \"restaurante\": \"Green City quiches & saladas, co.\",\r\n                \"rating\": 4\r\n            },\r\n        ],\r\n        \"pedidos\": [\r\n            {\r\n                \"id\": 1,\r\n                \"restaurante\": \"Saladas+\",\r\n                \"prato\": \"Prato do dia Peixe\",\r\n                \"morada\": \"Universidade de Aveiro, DECA\"\r\n            },\r\n\r\n            {\r\n                \"id\": 2,\r\n                \"restaurante\": \"Vegifruit\",\r\n                \"prato\": \"Salada de queijo da serra\",\r\n                \"morada\": \"Universidade de Aveiro, DETI\"\r\n            },\r\n            {\r\n                \"id\": 3,\r\n                \"restaurante\": \"Green City quiches & saladas, co.\",\r\n                \"prato\": \"Quiche especial\",\r\n                \"morada\": \"Universidade de Aveiro, CP\"\r\n            },\r\n        ]\r\n    },\r\n}\r\nexport const store = configStore();\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyDNVW5qZxXnfqYfnNUvpFUH9dAeQfRmHu4\",\r\n    authDomain: \"appams-f22a3.firebaseapp.com\",\r\n    projectId: \"appams-f22a3\",\r\n    storageBucket: \"appams-f22a3.appspot.com\",\r\n    databaseURL: \"https://appams-f22a3-default-rtdb.firebaseio.com/\",\r\n    messagingSenderId: \"184182571952\",\r\n    appId: \"1:184182571952:web:576eed43083fbf07fc8c75\",\r\n    measurementId: \"G-CHN6Z9P409\"\r\n};\r\n// Initialize Firebase\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const db = firebase.database();\r\nexport default function AppWraper(route) {\r\n    return (\r\n        <Provider store={store}>\r\n            <AppContent />\r\n        </Provider>\r\n    );\r\n}\r\n\r\n\r\n\r\nconst AppTab = createStackNavigator();\r\n\r\nfunction AppContent() {\r\n    const [isCliente, setIsCliente] = useState(false);\r\n    const [isRestaurante, setIsRestaurante] = useState(false);\r\n    const [isEstafeta, setIsEstafeta] = useState(false);\r\n    const [toRegister, setToRegister] = useState(false);\r\n    let logged = store.getState();\r\n    let user = logged.cartReducer.user;\r\n    logged = logged.cartReducer.isLogged;\r\n    return (<>\r\n        {logged &&\r\n            <>\r\n                {isCliente &&\r\n                    <ClienteApp setIsLogged />\r\n                }\r\n                {isRestaurante &&\r\n                    <RestauranteApp restaurante={users[user]} setIsLogged />\r\n                }\r\n                {isEstafeta &&\r\n                    <EstafetaApp estafeta={users[user]} setIsLogged />\r\n                }\r\n            </>\r\n        }\r\n        {!logged && !toRegister &&\r\n            <Login user={user} setUser={setUser} setIsCliente={setIsCliente} setIsRestaurante={setIsRestaurante} setIsEstafeta={setIsEstafeta} setToRegister={setToRegister} />\r\n        }\r\n        {!logged && toRegister &&\r\n            <Register setToRegister={setToRegister} />\r\n        }\r\n    </>);\r\n}\r\n\r\nfunction Register({ setToRegister }) {\r\n    const [user, setUser] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confPass, setConfPass] = useState(\"\");\r\n    const [users, setUsers] = useState({});\r\n    useEffect(() => {\r\n        firebase.database().ref(\"Users\").once('value').then(res => setUsers(res.val()));\r\n    }, []);\r\n    return (\r\n        <View style={styles.container}>\r\n            <Text style={styles.title}>Nutrilink</Text>\r\n            <View style={styles.loginContainer}>\r\n                <View style={styles.inputView}>\r\n                    <TextInput placeholder='Username' style={styles.input} onChangeText={user => setUser(user)} />\r\n                </View>\r\n                <View style={styles.inputView}>\r\n                    <TextInput placeholder='Password' style={styles.input} onChangeText={pass => setPassword(pass)} secureTextEntry />\r\n                </View>\r\n                <View style={styles.inputView}>\r\n                    <TextInput placeholder='Confirm Password' style={styles.input} onChangeText={pass => setConfPass(pass)} secureTextEntry />\r\n                </View>\r\n                <View style={styles.containerRow}>\r\n                    <TouchableOpacity style={styles.loginButtonContainer} onPress={() => {\r\n                        if (password == confPass) {\r\n                            let tmpUsers = users[user]= {type: 'cliente', password:password};\r\n                            console.log(tmpUsers);\r\n                            //db.ref(\"Users\").set(tmpUsers);\r\n                            setToRegister(false);\r\n                            //Restart();\r\n                        }\r\n                    }}>\r\n                        <Text style={styles.loginButtonText}>Confirmar</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n\r\nfunction Login({ navigation, setIsLogged, setIsCliente, setIsRestaurante, setIsEstafeta, user, setUser, setToRegister }) {\r\n    const [password, setPassword] = useState(\"\");\r\n    const [users, setUsers] = useState({});\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        firebase.database().ref(\"Users\").once('value').then(res => setUsers(res.val()));\r\n    }, []);\r\n    return (\r\n        <View style={styles.container}>\r\n            <Text style={styles.title}>Nutrilink</Text>\r\n            <View style={styles.loginContainer}>\r\n                <View style={styles.inputView}>\r\n                    <TextInput placeholder='Username' style={styles.input} onChangeText={username => dispatch(setUser(username))} />\r\n                </View>\r\n                <View style={styles.inputView}>\r\n                    <TextInput placeholder='Password' style={styles.input} onChangeText={pass => setPassword(pass)} secureTextEntry />\r\n                </View>\r\n                <View style={styles.containerRow}>\r\n                    <TouchableOpacity style={styles.loginButtonContainer} onPress={() => {\r\n\r\n                        let logged = store.getState();\r\n                        let user = logged.cartReducer.user;\r\n                        console.log(user)\r\n                        firebase.database().ref(\"Users\").once('value').then(res => setUsers(res.val()));\r\n                        console.log(users);\r\n                        for (let typeUser of Object.keys(users))\r\n                            if (user === typeUser) {\r\n                                if(password === users[user].password)\r\n                                    switch (users[user].type) {\r\n                                        case \"cliente\":\r\n                                            dispatch(setLogged(true));\r\n                                            setIsCliente(true);\r\n                                            break;\r\n                                        case \"restaurante\":\r\n                                            dispatch(setLogged(true));\r\n                                            setIsRestaurante(true);\r\n                                            setUser(users[user].restaurante);\r\n                                            break;\r\n                                        case \"estafeta\":\r\n                                            dispatch(setLogged(true));\r\n                                            setIsEstafeta(true);\r\n                                            break;\r\n                                        default:\r\n                                            break;\r\n                                    }\r\n                            }\r\n                    }}>\r\n                        <Text style={styles.loginButtonText}>Login</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.loginButtonContainer} onPress={() => { setToRegister(true); dispatch(setLogged(false)) }}>\r\n                        <Text style={styles.loginButtonText}>Registar</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        backgroundColor: 'darkcyan',\r\n        alignItems: 'center',\r\n        flex: 1\r\n\r\n    },\r\n    containerRow: {\r\n        paddingTop: 20,\r\n        flexDirection: 'row'\r\n    },\r\n    loginContainer: {\r\n        backgroundColor: 'darkcyan',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flex: 1\r\n    },\r\n    title: {\r\n        borderTopWidth: 100,\r\n        borderTopColor: 'darkcyan',\r\n        fontSize: 40,\r\n        fontWeight: 'bold',\r\n        color: 'cornsilk'\r\n    },\r\n    inputView: {\r\n        borderBottomWidth: 10,\r\n        borderBottomColor: 'darkcyan'\r\n    },\r\n    input: {\r\n        backgroundColor: 'darkgray',\r\n        padding: 15,\r\n        borderRadius: 5,\r\n    },\r\n    loginButtonContainer: {\r\n        elevation: 8,\r\n        backgroundColor: \"#009688\",\r\n        borderRadius: 28,\r\n        paddingVertical: 15,\r\n        paddingHorizontal: 25,\r\n\r\n    },\r\n    loginButtonText: {\r\n        fontSize: 18,\r\n        color: \"#fff\",\r\n        fontWeight: \"bold\",\r\n        alignSelf: \"center\",\r\n        textTransform: \"uppercase\"\r\n    }\r\n});"]},"metadata":{},"sourceType":"module"}