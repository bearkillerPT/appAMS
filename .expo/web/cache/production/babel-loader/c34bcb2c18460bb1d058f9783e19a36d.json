{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{useState,useEffect}from'react';import TextInput from\"react-native-web/dist/exports/TextInput\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{createStackNavigator}from'@react-navigation/stack';import ClienteApp from\"./screens/AppCliente/AppClientes\";import RestauranteApp from\"./screens/AppRestaurante/AppRestaurante\";import EstafetaApp from\"./screens/AppEstafeta/AppEstafeta\";import{Provider}from'react-redux';import configStore from\"./Store\";import{useDispatch}from'react-redux';import{database}from'firebase/app';var firebase=require('firebase/app');require('firebase/database');var users={\"cliente\":{\"type\":\"cliente\",\"password\":\"cliente\"},\"restaurante\":{\"type\":\"restaurante\",\"password\":\"restaurante\",\"restaurante\":\"Vegifruit\"},\"estafeta\":{\"type\":\"estafeta\",\"password\":\"estafeta\",\"feedback\":[{\"id\":1,\"restaurante\":\"Vegifruit\",\"rating\":5},{\"id\":2,\"restaurante\":\"Saladas+\",\"rating\":4},{\"id\":3,\"restaurante\":\"Green City quiches & saladas, co.\",\"rating\":4}],\"pedidos\":[{\"id\":1,\"restaurante\":\"Saladas+\",\"prato\":\"Prato do dia Peixe\",\"morada\":\"Universidade de Aveiro, DECA\"},{\"id\":2,\"restaurante\":\"Vegifruit\",\"prato\":\"Salada de queijo da serra\",\"morada\":\"Universidade de Aveiro, DETI\"},{\"id\":3,\"restaurante\":\"Green City quiches & saladas, co.\",\"prato\":\"Quiche especial\",\"morada\":\"Universidade de Aveiro, CP\"}]}};var store=configStore();var firebaseConfig={apiKey:\"AIzaSyDNVW5qZxXnfqYfnNUvpFUH9dAeQfRmHu4\",authDomain:\"appams-f22a3.firebaseapp.com\",projectId:\"appams-f22a3\",storageBucket:\"appams-f22a3.appspot.com\",databaseURL:\"https://appams-f22a3-default-rtdb.firebaseio.com/\",messagingSenderId:\"184182571952\",appId:\"1:184182571952:web:576eed43083fbf07fc8c75\",measurementId:\"G-CHN6Z9P409\"};firebase.initializeApp(firebaseConfig);console.log(firebase.database().ref(\"Users\").toJSON());console.log(showCliente());function showCliente(){return _regeneratorRuntime.async(function showCliente$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(fetch(firebase.database().ref(\"Users\"),{method:'GET',mode:'no-cors',headers:new Headers({'Content-Type':'application/json'})}).then(function(res){return console.log(res.text());}).catch(console.log));case 2:case\"end\":return _context.stop();}}},null,null,null,Promise);}export default function AppWraper(route){return React.createElement(Provider,{store:store},React.createElement(AppContent,null));}var AppTab=createStackNavigator();function AppContent(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isCliente=_useState4[0],setIsCliente=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isRestaurante=_useState6[0],setIsRestaurante=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isEstafeta=_useState8[0],setIsEstafeta=_useState8[1];var logged=store.getState();logged=logged.cartReducer.isLogged;return React.createElement(React.Fragment,null,logged&&React.createElement(React.Fragment,null,isCliente&&React.createElement(ClienteApp,{setIsLogged:true}),isRestaurante&&React.createElement(RestauranteApp,{restaurante:users[user],setIsLogged:true}),isEstafeta&&React.createElement(EstafetaApp,{estafeta:users[user],setIsLogged:true})),!logged&&React.createElement(Login,{user:user,setUser:setUser,setIsCliente:setIsCliente,setIsRestaurante:setIsRestaurante,setIsEstafeta:setIsEstafeta}));}function Login(_ref){var navigation=_ref.navigation,setIsLogged=_ref.setIsLogged,setIsCliente=_ref.setIsCliente,setIsRestaurante=_ref.setIsRestaurante,setIsEstafeta=_ref.setIsEstafeta,user=_ref.user,setUser=_ref.setUser;var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var dispatch=useDispatch();return React.createElement(View,{style:styles.container},React.createElement(Text,{style:styles.title},\"Nutrilink\"),React.createElement(View,{style:styles.loginContainer},React.createElement(View,{style:styles.inputView},React.createElement(TextInput,{placeholder:\"Username\",style:styles.input,onChangeText:function onChangeText(username){return setUser(username);}})),React.createElement(View,{style:styles.inputView},React.createElement(TextInput,{placeholder:\"Password\",style:styles.input,onChangeText:function onChangeText(pass){return setPassword(pass);},secureTextEntry:true})),React.createElement(View,{style:styles.containerRow},React.createElement(TouchableOpacity,{style:styles.loginButtonContainer,onPress:function onPress(){for(var _i=0,_Object$keys=Object.keys(users);_i<_Object$keys.length;_i++){var typeUser=_Object$keys[_i];if(user===typeUser){switch(users[user].type){case\"cliente\":dispatch(setLogged(true));setIsCliente(true);break;case\"restaurante\":dispatch(setLogged(true));setIsRestaurante(true);break;case\"estafeta\":dispatch(setLogged(true));setIsEstafeta(true);break;default:break;}}}}},React.createElement(Text,{style:styles.loginButtonText},\"       Login       \")),React.createElement(TouchableOpacity,{style:styles.loginButtonContainer},React.createElement(Text,{style:styles.loginButtonText},\"    Registar    \")))));}var styles=StyleSheet.create({container:{backgroundColor:'darkcyan',alignItems:'center',flex:1},containerRow:{paddingTop:20,flexDirection:'row'},loginContainer:{backgroundColor:'darkcyan',alignItems:'center',justifyContent:'center',flex:1},title:{borderTopWidth:100,borderTopColor:'darkcyan',fontSize:40,fontWeight:'bold',color:'cornsilk'},inputView:{borderBottomWidth:10,borderBottomColor:'darkcyan'},input:{backgroundColor:'darkgray',padding:15,borderRadius:5},loginButtonContainer:{elevation:8,backgroundColor:\"#009688\",borderRadius:28,paddingVertical:10,paddingHorizontal:12},loginButtonText:{fontSize:18,color:\"#fff\",fontWeight:\"bold\",alignSelf:\"center\",textTransform:\"uppercase\"}});","map":{"version":3,"sources":["D:/dev/appAmsree/App.js"],"names":["React","useState","useEffect","createStackNavigator","ClienteApp","RestauranteApp","EstafetaApp","Provider","configStore","useDispatch","database","firebase","require","users","store","firebaseConfig","apiKey","authDomain","projectId","storageBucket","databaseURL","messagingSenderId","appId","measurementId","initializeApp","console","log","ref","toJSON","showCliente","fetch","method","mode","headers","Headers","then","res","text","catch","AppWraper","route","AppTab","AppContent","user","setUser","isCliente","setIsCliente","isRestaurante","setIsRestaurante","isEstafeta","setIsEstafeta","logged","getState","cartReducer","isLogged","Login","navigation","setIsLogged","password","setPassword","dispatch","styles","container","title","loginContainer","inputView","input","username","pass","containerRow","loginButtonContainer","Object","keys","typeUser","type","setLogged","loginButtonText","StyleSheet","create","backgroundColor","alignItems","flex","paddingTop","flexDirection","justifyContent","borderTopWidth","borderTopColor","fontSize","fontWeight","color","borderBottomWidth","borderBottomColor","padding","borderRadius","elevation","paddingVertical","paddingHorizontal","alignSelf","textTransform"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { TextInput, StyleSheet, View, Text, TouchableOpacity } from 'react-native';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport ClienteApp from './screens/AppCliente/AppClientes';\r\nimport RestauranteApp from './screens/AppRestaurante/AppRestaurante';\r\nimport EstafetaApp from './screens/AppEstafeta/AppEstafeta';\r\nimport { Provider } from 'react-redux';\r\nimport configStore from './Store';\r\nimport { useDispatch } from 'react-redux';\r\nimport { database } from 'firebase/app';\r\nvar firebase = require('firebase/app');\r\nrequire('firebase/database');\r\n\r\nconst users = {\r\n    \"cliente\": {\r\n        \"type\": \"cliente\",\r\n        \"password\": \"cliente\",\r\n    },\r\n    \"restaurante\": {\r\n        \"type\": \"restaurante\",\r\n        \"password\": \"restaurante\",\r\n        \"restaurante\": \"Vegifruit\"\r\n    },\r\n    \"estafeta\": {\r\n        \"type\": \"estafeta\",\r\n        \"password\": \"estafeta\",\r\n        \"feedback\": [\r\n            {\r\n                \"id\": 1,\r\n                \"restaurante\": \"Vegifruit\",\r\n                \"rating\": 5\r\n            },\r\n            {\r\n                \"id\": 2,\r\n                \"restaurante\": \"Saladas+\",\r\n                \"rating\": 4\r\n            },\r\n            {\r\n                \"id\": 3,\r\n                \"restaurante\": \"Green City quiches & saladas, co.\",\r\n                \"rating\": 4\r\n            },\r\n        ],\r\n        \"pedidos\": [\r\n            {\r\n                \"id\": 1,\r\n                \"restaurante\": \"Saladas+\",\r\n                \"prato\": \"Prato do dia Peixe\",\r\n                \"morada\": \"Universidade de Aveiro, DECA\"\r\n            },\r\n\r\n            {\r\n                \"id\": 2,\r\n                \"restaurante\": \"Vegifruit\",\r\n                \"prato\": \"Salada de queijo da serra\",\r\n                \"morada\": \"Universidade de Aveiro, DETI\"\r\n            },\r\n            {\r\n                \"id\": 3,\r\n                \"restaurante\": \"Green City quiches & saladas, co.\",\r\n                \"prato\": \"Quiche especial\",\r\n                \"morada\": \"Universidade de Aveiro, CP\"\r\n            },\r\n        ]\r\n    },\r\n}\r\nconst store = configStore();\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyDNVW5qZxXnfqYfnNUvpFUH9dAeQfRmHu4\",\r\n    authDomain: \"appams-f22a3.firebaseapp.com\",\r\n    projectId: \"appams-f22a3\",\r\n    storageBucket: \"appams-f22a3.appspot.com\",\r\n    databaseURL: \"https://appams-f22a3-default-rtdb.firebaseio.com/\",\r\n    messagingSenderId: \"184182571952\",\r\n    appId: \"1:184182571952:web:576eed43083fbf07fc8c75\",\r\n    measurementId: \"G-CHN6Z9P409\"\r\n};\r\n// Initialize Firebase\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconsole.log(firebase.database().ref(\"Users\").toJSON())\r\nconsole.log(showCliente())\r\n\r\nasync function showCliente() {\r\n    await fetch(firebase.database().ref(\"Users\"), {\r\n        method: 'GET', // The method\r\n        mode: 'no-cors',\r\n        headers: new Headers({       'Content-Type': 'application/json'})\r\n    }).then((res) => console.log(res.text()))\r\n        .catch(console.log);\r\n}\r\nexport default function AppWraper(route) {\r\n    return (\r\n        <Provider store={store}>\r\n            <AppContent />\r\n        </Provider>\r\n    );\r\n}\r\n\r\n\r\n\r\nconst AppTab = createStackNavigator();\r\n\r\nfunction AppContent() {\r\n    const [user, setUser] = useState(\"\");\r\n    const [isCliente, setIsCliente] = useState(false);\r\n    const [isRestaurante, setIsRestaurante] = useState(false);\r\n    const [isEstafeta, setIsEstafeta] = useState(false);\r\n    let logged = store.getState();\r\n    logged = logged.cartReducer.isLogged;\r\n    return (<>\r\n        {logged &&\r\n            <>\r\n                {isCliente &&\r\n                    <ClienteApp setIsLogged />\r\n                }\r\n                {isRestaurante &&\r\n                    <RestauranteApp restaurante={users[user]} setIsLogged />\r\n                }\r\n                {isEstafeta &&\r\n                    <EstafetaApp estafeta={users[user]} setIsLogged />\r\n                }\r\n            </>\r\n        }\r\n        {!logged &&\r\n            <Login user={user} setUser={setUser} setIsCliente={setIsCliente} setIsRestaurante={setIsRestaurante} setIsEstafeta={setIsEstafeta} />\r\n        }\r\n    </>);\r\n}\r\n\r\nfunction Login({ navigation, setIsLogged, setIsCliente, setIsRestaurante, setIsEstafeta, user, setUser }) {\r\n    const [password, setPassword] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <Text style={styles.title}>Nutrilink</Text>\r\n            <View style={styles.loginContainer}>\r\n                <View style={styles.inputView}>\r\n                    <TextInput placeholder='Username' style={styles.input} onChangeText={username => setUser(username)} />\r\n                </View>\r\n                <View style={styles.inputView}>\r\n                    <TextInput placeholder='Password' style={styles.input} onChangeText={pass => setPassword(pass)} secureTextEntry />\r\n                </View>\r\n                <View style={styles.containerRow}>\r\n                    <TouchableOpacity style={styles.loginButtonContainer} onPress={() => {\r\n                        for (let typeUser of Object.keys(users))\r\n                            if (user === typeUser) {\r\n                                switch (users[user].type) {\r\n                                    case \"cliente\":\r\n                                        dispatch(setLogged(true));\r\n                                        setIsCliente(true);\r\n                                        break;\r\n                                    case \"restaurante\":\r\n                                        dispatch(setLogged(true));\r\n                                        setIsRestaurante(true);\r\n                                        break;\r\n                                    case \"estafeta\":\r\n                                        dispatch(setLogged(true));\r\n                                        setIsEstafeta(true);\r\n                                        break;\r\n                                    default:\r\n                                        break;\r\n                                }\r\n                            }\r\n                    }}>\r\n                        <Text style={styles.loginButtonText}>       Login       </Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.loginButtonContainer}>\r\n                        <Text style={styles.loginButtonText}>    Registar    </Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        backgroundColor: 'darkcyan',\r\n        alignItems: 'center',\r\n        flex: 1\r\n\r\n    },\r\n    containerRow: {\r\n        paddingTop: 20,\r\n        flexDirection: 'row'\r\n    },\r\n    loginContainer: {\r\n        backgroundColor: 'darkcyan',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flex: 1\r\n    },\r\n    title: {\r\n        borderTopWidth: 100,\r\n        borderTopColor: 'darkcyan',\r\n        fontSize: 40,\r\n        fontWeight: 'bold',\r\n        color: 'cornsilk'\r\n    },\r\n    inputView: {\r\n        borderBottomWidth: 10,\r\n        borderBottomColor: 'darkcyan'\r\n    },\r\n    input: {\r\n        backgroundColor: 'darkgray',\r\n        padding: 15,\r\n        borderRadius: 5,\r\n    },\r\n    loginButtonContainer: {\r\n        elevation: 8,\r\n        backgroundColor: \"#009688\",\r\n        borderRadius: 28,\r\n        paddingVertical: 10,\r\n        paddingHorizontal: 12,\r\n    },\r\n    loginButtonText: {\r\n        fontSize: 18,\r\n        color: \"#fff\",\r\n        fontWeight: \"bold\",\r\n        alignSelf: \"center\",\r\n        textTransform: \"uppercase\"\r\n    }\r\n});"]},"metadata":{},"sourceType":"module"}